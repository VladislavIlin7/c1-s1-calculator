# Лабораторная работа №1

## Тема: Разработка консольного калькулятора на Python (вариант Medium: M2 + расширение M3)

### Автор

*Ильин Владислав Александрович, М8О-102БВ-25*

## Описание проекта

В рамках лабораторной работы реализован **консольный калькулятор** на языке Python, поддерживающий:

- ввод выражений в **инфиксной или постфиксной нотации**;
- преобразование выражения из инфиксной в обратную польскую нотацию;
- вычисление результата выражения, используя **стек**;
- поддержку **унарных знаков** (+,-);
- базовые арифметические операции: `+`, `-`, `*`, `/`, `//`, `%`, `**`;
- поддержка ввода выражений со **скобками**;

---

## Структура проекта

 <pre>
    .
├── lab1/                                 # Кодовая база
│ ├── src/
│ │ ├── models/                           # Классы
│ │ │ ├── init.py
│ │ │ ├── token.py
│ │ ├── power/                            # Функции для калькулятора
│ │ │ ├── init.py
│ │ │ ├── calculate.py
│ │ │ ├── convert_infix_to_rpn.py
│ │ │ ├── tokenize_infix.py
│ │ │ ├── tokenize_rpn.py
│ │ ├── init.py
│ │ ├── main.py                           # Точка входа
│ ├── tests/                              # Тесты Pytest
│ │ ├── init.py
│ │ ├── test_calculate.py
│ │ ├── test_convert_infix_to_rpn.py
│ │ ├── test_tokenize_infix.py
│ │ ├── test_tokenize_rpn.py
│ ├── requirements.txt                    # Зависимости
│ ├── .gitignore
│ ├── .pre-commit-config.yaml             # Автоматическая проверка кодстайла
│ ├── README.md                           # Описание лабораторной работы
</pre>

## Возможности калькулятора

- ✅ **Инфиксный ввод**: (3 + 4) * 2 ** 2 Преобразуется в RPN → 3 4 + 2 2 ** *
- ✅ **Постфиксный ввод (RPN)**: 3 4 + 2 2 ** *
- ✅ **Поддерживаемые операции**: сложение (`+`), вычитание (`-`), умножение (`*`), деление (`/`), целочисленное
  деление (`//`), остаток от деления (`%`), возведение в степень (`**`), унарные (`+` и `-`), выражения со скобками.
- ✅ **Обработка ошибок**: некорректный ввод выражения, деление на ноль, использование неподдерживаемых символов.

## Примеры работы калькулятора:

- выражение в инфиксной форме:

````
Выберите режим калькулятора:
     1-инфиксное
     2-постфиксное
     3-выход из программы
1
Введите выражение в инфиксной форме: ((25 + 5) * 4) - 10 / 2
Ответ: 115.0
````

- выражение в постфиксной форме:

````
Выберите режим калькулятора:
     1 - инфиксное
     2 - постфиксное
     3 - выход из программы
2
Введите выражение в постфиксной форме: 2.2 2 +
Ответ: 4.2 
````

- выход:

````
Выберите режим калькулятора:
     1-инфиксное
     2-постфиксное
     3-выход из программы
3
Пока Пока!
````

- примеры обработок ошибок:

````
Выберите режим калькулятора:
     1-инфиксное
     2-постфиксное
     3-выход из программы
fgh
Неправильный ввод - fgh
Попробуйте ещё раз
````

````
Выберите режим калькулятора:
     1-инфиксное
     2-постфиксное
     3-выход из программы
1
Введите выражение в инфиксной форме: 1124+
Ошибка при вычислении: Не верно введено выражение, недостаточно аргументов
````

````
Выберите режим калькулятора:
     1-инфиксное
     2-постфиксное
     3-выход из программы
2
Введите выражение в постфиксной форме: 1 2 3
Ошибка при вычислении: Не верно введено выражение, много аргументов
````

## Вывод:

В ходе лабораторной работы я освоил технику токенизации выражений и алгоритм сортировочной станции для преобразования в
обратную польскую нотацию,
реализовал вычисления через стек с учетом приоритетов операций и унарного минуса.
Разработал консольный калькулятор, обрабатывающий целые и вещественные числа и основные арифметические операции с
обработкой ошибок ввода.
Научился разделять логику на функции и модули, написал pytest тесты для проверки корректности вычислений.
Все цели работы достигнуты - создан полнофункциональный калькулятор с собственной системой разбора выражений без
использования eval и exec. 